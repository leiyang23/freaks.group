(function(t){function e(e){for(var s,a,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(s=!1)}s&&(o.splice(e--,1),t=l(l.s=n[0]))}return t}var s={},a={app:0},i={app:0},o=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-105cd517":"22f7b7c9","chunk-2d0ba48c":"8da85015","chunk-2d0e26b8":"cff83a8b","chunk-4031440a":"670db5fe","chunk-4ba09812":"621879ba","chunk-4bde2a34":"e897b0a9","chunk-61fd4e1f":"53de1564","chunk-689a894c":"a4beec12","chunk-8440d508":"76a34b6f","chunk-9d5511f2":"d28fd57d","chunk-ab59af44":"a784379c"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={"chunk-105cd517":1,"chunk-4031440a":1,"chunk-4ba09812":1,"chunk-4bde2a34":1,"chunk-61fd4e1f":1,"chunk-689a894c":1,"chunk-8440d508":1,"chunk-9d5511f2":1,"chunk-ab59af44":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var s="css/"+({}[t]||t)+"."+{"chunk-105cd517":"d3965a57","chunk-2d0ba48c":"31d6cfe0","chunk-2d0e26b8":"31d6cfe0","chunk-4031440a":"2b07be47","chunk-4ba09812":"f98747df","chunk-4bde2a34":"2ff8e589","chunk-61fd4e1f":"70594f0d","chunk-689a894c":"3688affa","chunk-8440d508":"21c72ed3","chunk-9d5511f2":"6e8ecc12","chunk-ab59af44":"333dffe6"}[t]+".css",i=l.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var c=o[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===i))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===s||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var s=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete a[t],f.parentNode.removeChild(f),n(o)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[t]=0})));var s=i[t];if(0!==s)if(s)e.push(s[2]);else{var o=new Promise((function(e,n){s=i[t]=[e,n]}));e.push(s[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,n[1](d)}i[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(n,s,function(e){return t[e]}.bind(null,s));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var f=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1ccb":function(t,e,n){},"208f":function(t,e,n){"use strict";var s=n("cfdd"),a=n.n(s);a.a},"2daa":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var s=!1,a="",i="";s?(a="http://localhost:9000",i="ws://localhost:9000"):(a="http://api.freaks.group",i="ws://api.freaks.group")},"349c":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"spy"}},[n("el-row",[n("el-col",{staticClass:"slid",attrs:{xs:0,sm:2,md:2,lg:4,xl:6}},[n("div",{staticStyle:{color:"#f7f7f7"}},[t._v("hi")])]),n("el-col",{attrs:{xs:24,sm:20,md:20,lg:16,xl:12}},[n("div",{staticClass:"title"},[t._v("基本信息")]),n("div",{staticClass:"block system"},[n("el-tag",[t._v("操作系统："+t._s(t.base.uname.system))]),n("el-tag",[t._v("系统版本："+t._s(t.base.uname.version))]),n("el-tag",[t._v("网络节点："+t._s(t.base.uname.node))]),n("el-tag",[t._v("处理器架构："+t._s(t.base.uname.machine))]),n("el-tag",[t._v("CPU 型号："+t._s(t.base.cpu.model))]),n("el-tag",[t._v("物理 CPU 数量："+t._s(t.base.cpu.num))]),n("el-tag",[t._v("工作时长："+t._s(t.base.work_time.days)+" 天 "+t._s(t.base.work_time.days)+" 时 "+t._s(t.base.work_time.days)+" 分")])],1),n("div",{staticClass:"title"},[t._v("磁盘用量")]),n("div",{staticClass:"disk"},t._l(t.base.disks,(function(e,s){return n("div",{key:s,staticClass:"block item"},[n("div",{staticStyle:{color:"#666","font-size":"12px","line-height":"30px"}},[t._v(" "+t._s(e.mount)+" ")]),n("div",[n("el-progress",{attrs:{type:"circle",percentage:e.percent,color:e.percent>60?e.percent>80?"#F56C6C":"#E6A23C":""}})],1),n("div",{staticStyle:{color:"#666","font-size":"12px","line-height":"30px"}},[t._v(" "+t._s(t.bytes_to_human(e.used))+" / "+t._s(t.bytes_to_human(e.total))+" ")])])})),0),n("div",{staticClass:"title"},[t._v("磁盘IO")]),n("div",{staticClass:"io"},[n("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"disk"}})]),n("div",{staticClass:"title"},[t._v("网络IO")]),n("div",{staticClass:"io"},[n("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"net"}})]),n("div",{staticClass:"title"},[t._v("CPU")]),n("div",{staticClass:"cpu"},[n("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"cpu"}})]),n("div",{staticClass:"title"},[t._v("负载")]),n("div",{staticClass:"load"},[n("div",{staticStyle:{width:"50%",height:"400px","margin-right":"10px"},attrs:{id:"load"}}),n("div",{staticStyle:{width:"50%",height:"400px"},attrs:{id:"memory"}})])]),n("el-col",{staticClass:"slid",attrs:{xs:0,sm:2,md:2,lg:4,xl:6}},[n("div",{staticStyle:{color:"#f7f7f7"}},[t._v("hi")])])],1)],1)},a=[],i=(n("b0c0"),n("2daa")),o={name:"Hosts",data:function(){return{ws_path:i["b"]+"/ws/spy",base:null,realtime:null,myChartDiskIO:null,myChartNetIO:null,disk_time:[],disk_series_data:[],net_time:[],net_series_data:[]}},mounted:function(){var t=this;this.getBase(),this.dom_timer=setInterval((function(){document.getElementById("memory")&&(window.console.log(document.getElementById("memory")),t.myChartDiskIO=t.$echarts.init(document.getElementById("disk")),t.myChartNetIO=t.$echarts.init(document.getElementById("net")),t.myChartCpu=t.$echarts.init(document.getElementById("cpu")),t.myChartLoad=t.$echarts.init(document.getElementById("load")),t.myChartMemory=t.$echarts.init(document.getElementById("memory")),t.init_ws(),window.clearInterval(t.dom_timer))}),100)},methods:{getBase:function(){var t=this;t.$http({url:"/spy/api/base"}).then((function(e){0==e.data.errcode&&(t.base=e.data.data)})).catch((function(t){window.console.log(t)}))},init_ws:function(){var t=this;this.websock=new WebSocket(t.ws_path),this.websock.onopen=this.websockOpen,this.websock.onclose=this.websockClose,this.websock.onerror=this.websockError,this.websock.onmessage=this.websockMessage},websockOpen:function(){window.console.log("build ws connection...");var t=this;this.timer=setInterval((function(){t.websock.send(JSON.stringify({message:"heart"}))}),3e3)},websockClose:function(){window.console.log("ws connection close !"),clearInterval(this.timer)},websockError:function(){window.console.error("ws connection error"),clearInterval(this.timer)},websockMessage:function(t){var e=JSON.parse(t.data),n=this;window.console.log("receve message: ",e),n.draw_disk_io(e.time,e.disk_io),n.draw_net_io(e.time,e.net_io),n.draw_cpu(e.cpu_percent),n.draw_load(e.load),n.draw_memory(e.virtual_memory)},draw_disk_io:function(t,e){var n=this,s={},a=["-读","-写"];for(var i in e)for(var o=0;o<e[i].length;o++)s[i+a[o]]=e[i][o];if(this.disk_time.length>100)for(var r in this.disk_time.shift(),this.disk_time.push(t),s)for(var l=0;l<this.disk_series_data.length;l++)this.disk_series_data[l].name==r&&(this.disk_series_data[l].data.shift(),this.disk_series_data[l].data.push(s[r]));else if(this.disk_time.push(t),0==this.disk_series_data.length)for(var c in s)this.disk_series_data.push({type:"line",name:c,areaStyle:{},smooth:!0,showSymbol:!1,data:[s[c]]});else for(var u in s)for(var d=0;d<this.disk_series_data.length;d++)this.disk_series_data[d].name==u&&this.disk_series_data[d].data.push(s[u]);var f={legend:{show:!0,bottom:"0",padding:[10,5],align:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#e91e63"}}},xAxis:{type:"category",boundaryGap:!1,data:n.disk_time},yAxis:{show:!0,name:"读写速率（bytes)",type:"value"},series:n.disk_series_data};n.myChartDiskIO.setOption(f)},draw_net_io:function(t,e){var n={},s=["发送","接收","发送包","接收包"];for(var a in e)for(var i=0;i<e[a].length;i++)n[a+s[i]]=e[a][i];if(this.disk_time.length>100)for(var o in this.net_time.shift(),this.net_time.push(t),n)for(var r=0;r<this.net_series_data.length;r++)this.net_series_data[r].name==o&&(this.net_series_data[r].data.shift(),this.net_series_data[r].data.push(n[o]));else if(this.net_time.push(t),0==this.net_series_data.length)for(var l in n)this.net_series_data.push({type:"line",name:l,areaStyle:{},smooth:!0,showSymbol:!1,data:[n[l]]});else for(var c in n)for(var u=0;u<this.net_series_data.length;u++)this.net_series_data[u].name==c&&this.net_series_data[u].data.push(n[c]);var d={legend:{show:!0,bottom:"0",padding:[10,5],align:"left"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",boundaryGap:!1,data:this.disk_time},yAxis:{type:"value"},series:this.net_series_data};this.myChartNetIO.setOption(d)},draw_cpu:function(t){for(var e=[],n=0;n<t.length;n++)e.push(n+1);var s={tooltip:{trigger:"axis",axisPointer:{type:"none",label:{backgroundColor:"#6a7985"}}},xAxis:{name:"逻辑cpu",type:"category",data:e},yAxis:{name:"使用率（%）",type:"value"},series:[{data:t,type:"bar"}]};this.myChartCpu.setOption(s)},draw_load:function(t){var e={tooltip:{},radar:{shape:"circle",name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"1分钟（%）",max:100},{name:"5分钟（%）",max:100},{name:"15分钟（%）",max:100}]},series:[{type:"radar",data:[{value:t,name:"负载"}]}]};this.myChartLoad.setOption(e)},draw_memory:function(t){var e=this,n={tooltip:{formatter:"总内存："+e.bytes_to_human(t.total)+"<br/>已使用："+e.bytes_to_human(t.used)},toolbox:{feature:{restore:{},saveAsImage:{}}},series:[{name:"实时内存",type:"gauge",detail:{formatter:"{value}%"},data:[{value:t.percent,name:"内存使用率"}]}]};this.myChartMemory.setOption(n)},bytes_to_human:function(t){var e=1024,n=1024*e,s=1024*n;return t<1024?String(t)+" B":t>=1024&&t<n?String(Math.floor(10*t/e)/10)+" KB":t>=n&&t<s?String(Math.floor(10*t/n)/10)+" MB":t>=s?String(Math.floor(10*t/s)/10)+" GB":void 0}},destroyed:function(){window.clearInterval(this.timer)}},r=o,l=(n("208f"),n("2877")),c=Object(l["a"])(r,s,a,!1,null,"0397d670",null);e["default"]=c.exports},"4ef2":function(t,e,n){"use strict";var s=n("adfe"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-aside",{style:{height:t.pageHeight+"px"},attrs:{width:"200px"}},[n("el-row",{staticClass:"aside"},[n("User",{on:{goto:t.change}}),n("el-row",{staticClass:"nav"},[n("el-col",{attrs:{span:24}},[n("el-menu",{ref:"el_menu",staticClass:"menu-aside",attrs:{router:!0,"default-active":"1","background-color":"#3c444d","text-color":"#bbb","active-text-color":"#ffffff"}},[n("el-menu-item-group",[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-television"}),t._v(" "),n("span",{staticStyle:{"font-size":"14px","margin-left":"2px"}},[t._v("运维")])]),n("el-menu-item",{attrs:{index:"1",route:"/monitor/hosts"}},[t._v("主机性能")]),n("el-menu-item",{attrs:{index:"2",route:"/monitor/terminal"}},[t._v("远程shell")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[n("i",{staticClass:"fa fa-server"}),t._v(" "),n("span",{staticStyle:{"font-size":"14px","margin-left":"2px"}},[t._v("应用")])]),n("el-menu-item",{attrs:{index:"3",route:"/apps/imgur"}},[t._v("图床")]),n("el-menu-item",{attrs:{index:"4",route:"/apps/musicVisualization"}},[t._v("频谱")]),n("el-menu-item",{attrs:{index:"5",route:"/apps/ocr"}},[t._v("图像转文字")])],2)],1)],1)],1),n("el-row",{staticClass:"music"},[n("MusicBox")],1),n("el-row",{staticClass:"beian"},[n("a",{attrs:{href:"http://www.beian.miit.gov.cn",target:"_blank"}},[t._v("豫ICP备18007474号")])])],1)],1),n("el-main",{staticClass:"main",style:{height:t.pageHeight+"px"}},[n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1)],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"con"},[n("div",{staticClass:"music-box"},[n("el-button",{staticClass:"btn",attrs:{cir:"",size:"small"},on:{click:t.open}},[t._v("设置")]),t.is_play?n("div",[n("i",{staticClass:"fa fa-pause",on:{click:t.pause}})]):n("div",[n("i",{staticClass:"fa fa-play",on:{click:t.play}})]),n("div",[n("i",{staticClass:"fa fa-step-forward",on:{click:t.next}})])],1)])},r=[],l={name:"MusicBox",data:function(){return{playlist_id:void 0,is_play:!1,sound:null,src:"",currentTime:0,retry:0}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.sound=new Audio,this.sound.loop=!1,setInterval((function(){t.sound.ended&&t.next()}),1e3),this.sound.addEventListener("error",(function(){t.next()}))},next:function(){var t=this,e=this,n="";n=e.playlist_id?"/assert/api/netease/random?playlist_id="+e.playlist_id:"/assert/api/netease/random",e.$http({baseURL:"http://freaks.group",url:n}).then((function(n){if(window.console.log(n.data),""==n.data.data){if(e.retry>5)return void(e.is_play=!1);e.next(),e.retry+=1}else e.sound.src=n.data,e.sound.play(),e.retry=0,t.is_play=!0}))},pause:function(){this.sound.pause(),this.currentTime=this.sound.currentTime,this.is_play=!1},play:function(){0==this.currentTime?this.next():(this.sound.currentTime=this.currentTime,this.sound.play()),this.is_play=!0},open:function(){var t=this,e=this;this.$prompt("请输入网易歌单ID","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{10}$/,inputErrorMessage:"ID格式不正确"}).then((function(t){var n=t.value;e.playlist_id=n})).catch((function(){t.$message({type:"info",message:"已取消"})}))}},destroyed:function(){this.sound.clear()}},c=l,u=(n("e5f0"),n("2877")),d=Object(u["a"])(c,o,r,!1,null,"bf04b442",null),f=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.login_status?n("el-row",{staticClass:"user-login",nativeOn:{click:function(e){return t.goto(e)}}},[n("el-avatar",{staticStyle:{cursor:"pointer"},attrs:{size:100,shape:"square",src:t.user.avatar}}),n("el-row",{staticStyle:{"font-size":"12px",color:"#f1f1f1",height:"30px","line-height":"30px"}},[t._v(" "+t._s(t.user.username)+" ")])],1):n("el-row",{staticClass:"user"},[n("el-popover",{attrs:{placement:"right",width:"200",trigger:"hover"}},[n("el-row",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[n("el-row",{staticStyle:{height:"50px","line-height":"40px"}},[t._v("登录后可以试验更多功能哦！")]),n("el-row",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.loginFormVisiable=!0}}},[t._v("登录")]),n("el-button",{attrs:{size:"small"},on:{click:function(e){t.registerFormVisiable=!0}}},[t._v("注册")])],1)],1),n("el-avatar",{staticStyle:{cursor:"pointer",color:"#fefefe","background-color":"#ff677d"},attrs:{slot:"reference",size:60},slot:"reference"},[t._v("未登录")])],1)],1),n("el-dialog",{attrs:{title:"登录",visible:t.loginFormVisiable,width:"400px"},on:{"update:visible":function(e){t.loginFormVisiable=e}}},[n("el-form",{attrs:{model:t.loginInfo}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"邮箱/用户名"},model:{value:t.loginInfo.account,callback:function(e){t.$set(t.loginInfo,"account",e)},expression:"loginInfo.account"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"密码"},model:{value:t.loginInfo.password,callback:function(e){t.$set(t.loginInfo,"password",e)},expression:"loginInfo.password"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.loginFormVisiable=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登 录")])],1)],1),n("el-dialog",{attrs:{title:"注册",visible:t.registerFormVisiable,width:"400px"},on:{"update:visible":function(e){t.registerFormVisiable=e}}},[n("el-form",{attrs:{model:t.registerInfo}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"邮箱"},model:{value:t.registerInfo.email,callback:function(e){t.$set(t.registerInfo,"email",e)},expression:"registerInfo.email"}})],1),n("el-form-item",[n("el-row",{attrs:{type:"flex"}},[n("el-input",{attrs:{placeholder:"验证码"},model:{value:t.registerInfo.verifyCode,callback:function(e){t.$set(t.registerInfo,"verifyCode",e)},expression:"registerInfo.verifyCode"}}),n("el-button",{attrs:{disabled:!t.registerInfo.email},on:{click:t.send_verify_code}},[t._v("获取验证码")])],1)],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"设置密码"},model:{value:t.registerInfo.password,callback:function(e){t.$set(t.registerInfo,"password",e)},expression:"registerInfo.password"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"重复密码"},model:{value:t.registerInfo.rePassword,callback:function(e){t.$set(t.registerInfo,"rePassword",e)},expression:"registerInfo.rePassword"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.registerFormVisiable=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.register}},[t._v("注 册")])],1)],1)],1)},m=[],p={name:"User",data:function(){return{loginFormVisiable:!1,registerFormVisiable:!1,loginInfo:{},registerInfo:{},is_login:!1}},computed:{login_status:function(){return this.$store.getters.get_login_status}},mounted:function(){var t=JSON.parse(localStorage.getItem("user"));t&&(this.$store.commit("login"),this.user=t)},methods:{goto:function(){this.$router.push("/user"),this.$emit("goto")},login:function(){var t=this;t.$http({method:"post",url:"/account/login",data:t.loginInfo}).then((function(e){200==e.data.status_code?(t.$message.success("登录成功！"),t.loginFormVisiable=!1,localStorage.setItem("token",e.data.token),t.get_info()):t.$message.error(e.data.msg)})).catch((function(e){window.console.error(e),t.$message.error("网络错误！")}))},get_info:function(){var t=this;t.$http({url:"/account/info"}).then((function(e){200==e.data.status_code?(localStorage.setItem("user",JSON.stringify(e.data.data)),t.user=e.data.data,t.$store.commit("login"),t.$store.commit("set_msg_num",e.data.data.msg_num)):t.$message.warning("获取用户信息失败！")}))},logout:function(){var t=this;t.$store.commit("logout"),localStorage.removeItem("user"),localStorage.removeItem("token"),t.$message.info("已退出")},register:function(){var t=this;t.$http({method:"post",url:"/account/register",data:{email:t.registerInfo.email,password:t.registerInfo.password,code:t.registerInfo.verifyCode}}).then((function(e){200==e.data.status_code?(t.$message.success("注册成功，已登录！"),t.registerFormVisiable=!1,localStorage.setItem("token",e.data.token),t.get_info()):t.$message.warning(e.data.msg)}))},send_verify_code:function(){var t=this;t.$http({method:"post",url:"/account/register_email_code",data:{email:t.registerInfo.email}}).then((function(e){200==e.data.status_code?t.$message.success("验证码已发送到你的邮箱，15分钟有效！"):t.$message.warning(e.data.msg)}))}}},g=p,v=(n("9901"),Object(u["a"])(g,h,m,!1,null,"67067d9a",null)),_=v.exports,b={components:{MusicBox:f,User:_},data:function(){return{pageHeight:0}},mounted:function(){this.pageHeight=document.body.clientHeight;var t=this;window.addEventListener("resize",(function(){t.pageHeight=document.body.clientHeight}))},methods:{change:function(){this.$refs.el_menu.activeIndex="0"}}},y=b,k=(n("4ef2"),Object(u["a"])(y,a,i,!1,null,"58e367a3",null)),w=k.exports,x=(n("d3b7"),n("8c4f")),C=n("349c");s["default"].use(x["a"]);var I=[{path:"/",name:"hosts",component:C["default"]},{path:"/monitor",component:function(){return n.e("chunk-689a894c").then(n.bind(null,"b3e2"))},children:[{path:"hosts",component:function(){return Promise.resolve().then(n.bind(null,"349c"))}},{path:"terminal",component:function(){return n.e("chunk-4031440a").then(n.bind(null,"fb60"))}},{path:"services",component:function(){return n.e("chunk-2d0ba48c").then(n.bind(null,"370b"))}}]},{path:"/user",component:function(){return n.e("chunk-105cd517").then(n.bind(null,"e382"))},children:[{path:"",components:{user:function(){return n.e("chunk-4ba09812").then(n.bind(null,"074a"))}}},{path:"selfInfo",components:{user:function(){return n.e("chunk-4ba09812").then(n.bind(null,"074a"))}}},{path:"weatherTip",components:{user:function(){return n.e("chunk-9d5511f2").then(n.bind(null,"1365"))}}},{path:"message",components:{user:function(){return n.e("chunk-ab59af44").then(n.bind(null,"6fff"))}}}]},{path:"/apps",component:function(){return n.e("chunk-2d0e26b8").then(n.bind(null,"7f2e"))},children:[{path:"imgur/",component:function(){return n.e("chunk-61fd4e1f").then(n.bind(null,"7e5a"))}},{path:"musicVisualization/",component:function(){return n.e("chunk-4bde2a34").then(n.bind(null,"a625"))}},{path:"ocr/",component:function(){return n.e("chunk-8440d508").then(n.bind(null,"745d"))}}]}],S=new x["a"]({routes:I}),$=S,O=n("2f62");s["default"].use(O["a"]);var E=new O["a"].Store({state:{is_login:!1,msg_num:0},mutations:{login:function(t){t.is_login=!0},logout:function(t){t.is_login=!1},set_msg_num:function(t,e){t.msg_num=e},reduce_msg_num:function(t,e){t.msg_num-=e,t.msg_num<0&&(t.msg_num=0)}},actions:{},getters:{get_login_status:function(t){return t.is_login},get_msg_num:function(t){return t.msg_num}},modules:{}}),P=n("5c96"),B=n.n(P),j=n("313e"),T=n.n(j),A=(n("0fae"),n("bc3a")),M=n.n(A),z=n("4328"),F=n.n(z),V=n("2daa"),N=M.a.create({baseURL:V["a"]});N.interceptors.request.use((function(t){if("post"===t.method){if("multipart/form-data;charset=utf8"===t.headers["Content-Type"])return t;t.data=F.a.stringify(t.data)}var e=localStorage.getItem("token");return e||(e="empty"),t.headers["Authorization"]="token "+e,t}),(function(t){return Promise.reject(t)})),N.interceptors.response.use((function(t){return 401==t.data.status_code&&(E.commit("logout"),localStorage.removeItem("user"),localStorage.removeItem("token"),U.$message.info("请登录")),t}),(function(t){return Promise.reject(t)}));var L={http:N};n("7f10"),n("68b6");s["default"].use(B.a),s["default"].config.productionTip=!1,s["default"].prototype.$http=L.http,s["default"].prototype.$echarts=T.a;var H=new s["default"]({router:$,store:E,render:function(t){return t(w)}}).$mount("#app"),U=e["default"]=H},"68b6":function(t,e,n){},9901:function(t,e,n){"use strict";var s=n("edd0"),a=n.n(s);a.a},adfe:function(t,e,n){},cfdd:function(t,e,n){},e5f0:function(t,e,n){"use strict";var s=n("1ccb"),a=n.n(s);a.a},edd0:function(t,e,n){}});
//# sourceMappingURL=app.a0b5e2cc.js.map